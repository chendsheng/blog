(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(d){"use strict";d.defineOption("rulers",false,function(e,r,i){if(i&&i!=d.Init){o(e);e.off("refresh",l)}if(r&&r.length){t(e);e.on("refresh",l)}});function o(e){for(var r=e.display.lineSpace.childNodes.length-1;r>=0;r--){var i=e.display.lineSpace.childNodes[r];if(/(^|\s)CodeMirror-ruler($|\s)/.test(i.className))i.parentNode.removeChild(i)}}function t(e){var r=e.getOption("rulers");var i=e.defaultCharWidth();var o=e.charCoords(d.Pos(e.firstLine(),0),"div").left;var t=e.display.scroller.offsetHeight+30;for(var l=0;l<r.length;l++){var s=document.createElement("div");s.className="CodeMirror-ruler";var f,n=null,a=r[l];if(typeof a=="number"){f=a}else{f=a.column;if(a.className)s.className+=" "+a.className;if(a.color)s.style.borderColor=a.color;if(a.lineStyle)s.style.borderLeftStyle=a.lineStyle;if(a.width)s.style.borderLeftWidth=a.width;n=r[l].className}s.style.left=o+f*i+"px";s.style.top="-50px";s.style.bottom="-20px";s.style.minHeight=t+"px";e.display.lineSpace.insertBefore(s,e.display.cursorDiv)}}function l(e){o(e);t(e)}});