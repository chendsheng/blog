(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],e);else e(CodeMirror)})(function(o){"use strict";o.defineMode("django:inner",function(){var i=["block","endblock","for","endfor","in","true","false","loop","none","self","super","if","endif","as","not","and","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","length","comment","endcomment","empty"];i=new RegExp("^(("+i.join(")|(")+"))\\b");function r(e,n){e.eatWhile(/[^\{]/);var t=e.next();if(t=="{"){if(t=e.eat(/\{|%|#/)){n.tokenize=o(t);return"tag"}}}function o(o){if(o=="{"){o="}"}return function(e,n){var t=e.next();if(t==o&&e.eat("}")){n.tokenize=r;return"tag"}if(e.match(i)){return"keyword"}return o=="#"?"comment":"string"}}return{startState:function(){return{tokenize:r}},token:function(e,n){return n.tokenize(e,n)}}});o.defineMode("django",function(e){var n=o.getMode(e,"text/html");var t=o.getMode(e,"django:inner");return o.overlayMode(n,t)});o.defineMIME("text/x-django","django")});