(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("tcl",function(){function e(e){var r={},t=e.split(" ");for(var n=0;n<t.length;++n)r[t[n]]=true;return r}var i=e("Tcl safe after append array auto_execok auto_import auto_load "+"auto_mkindex auto_mkindex_old auto_qualify auto_reset bgerror "+"binary break catch cd close concat continue dde eof encoding error "+"eval exec exit expr fblocked fconfigure fcopy file fileevent filename "+"filename flush for foreach format gets glob global history http if "+"incr info interp join lappend lindex linsert list llength load lrange "+"lreplace lsearch lset lsort memory msgcat namespace open package parray "+"pid pkg::create pkg_mkIndex proc puts pwd re_syntax read regex regexp "+"registry regsub rename resource return scan seek set socket source split "+"string subst switch tcl_endOfWord tcl_findLibrary tcl_startOfNextWord "+"tcl_wordBreakAfter tcl_startOfPreviousWord tcl_wordBreakBefore tcltest "+"tclvars tell time trace unknown unset update uplevel upvar variable "+"vwait");var o=e("if elseif else and not or eq ne in ni for foreach while switch");var l=/[+\-*&%=<>!?^\/\|]/;function f(e,r,t){r.tokenize=t;return t(e,r)}function s(e,r){var t=r.beforeParams;r.beforeParams=false;var n=e.next();if((n=='"'||n=="'")&&r.inParams)return f(e,r,u(n));else if(/[\[\]{}\(\),;\.]/.test(n)){if(n=="("&&t)r.inParams=true;else if(n==")")r.inParams=false;return null}else if(/\d/.test(n)){e.eatWhile(/[\w\.]/);return"number"}else if(n=="#"&&e.eat("*")){return f(e,r,c)}else if(n=="#"&&e.match(/ *\[ *\[/)){return f(e,r,d)}else if(n=="#"&&e.eat("#")){e.skipToEnd();return"comment"}else if(n=='"'){e.skipTo(/"/);return"comment"}else if(n=="$"){e.eatWhile(/[$_a-z0-9A-Z\.{:]/);e.eatWhile(/}/);r.beforeParams=true;return"builtin"}else if(l.test(n)){e.eatWhile(l);return"comment"}else{e.eatWhile(/[\w\$_{}\xa1-\uffff]/);var a=e.current().toLowerCase();if(i&&i.propertyIsEnumerable(a))return"keyword";if(o&&o.propertyIsEnumerable(a)){r.beforeParams=true;return"keyword"}return null}}function u(i){return function(e,r){var t=false,n,a=false;while((n=e.next())!=null){if(n==i&&!t){a=true;break}t=!t&&n=="\\"}if(a)r.tokenize=s;return"string"}}function c(e,r){var t=false,n;while(n=e.next()){if(n=="#"&&t){r.tokenize=s;break}t=n=="*"}return"comment"}function d(e,r){var t=0,n;while(n=e.next()){if(n=="#"&&t==2){r.tokenize=s;break}if(n=="]")t++;else if(n!=" ")t=0}return"meta"}return{startState:function(){return{tokenize:s,beforeParams:false,inParams:false}},token:function(e,r){if(e.eatSpace())return null;return r.tokenize(e,r)}}});e.defineMIME("text/x-tcl","tcl")});