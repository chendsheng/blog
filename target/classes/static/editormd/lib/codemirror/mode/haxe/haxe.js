(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("haxe",function(e,r){var u=e.indentUnit;var a=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c");var i=e("operator"),a={type:"atom",style:"atom"},u={type:"attribute",style:"attribute"};var f=e("typedef");return{if:t,while:t,else:r,do:r,try:r,return:n,break:n,continue:n,new:n,throw:n,var:e("var"),inline:u,static:u,using:e("import"),public:u,private:u,cast:e("cast"),import:e("import"),macro:e("macro"),function:e("function"),catch:e("catch"),untyped:e("untyped"),callback:e("cb"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,never:e("property_access"),trace:e("trace"),class:f,abstract:f,enum:f,interface:f,typedef:f,extends:f,implements:f,dynamic:f,true:a,false:a,null:a}}();var f=/[+\-*&%=<>!?|]/;function l(e,t,r){t.tokenize=r;return r(e,t)}function o(e,t){var r=false,n;while((n=e.next())!=null){if(n==t&&!r)return false;r=!r&&n=="\\"}return r}var n,i;function c(e,t,r){n=e;i=r;return t}function s(e,t){var r=e.next();if(r=='"'||r=="'")return l(e,t,D(r));else if(/[\[\]{}\(\),;\:\.]/.test(r))return c(r);else if(r=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return c("number","number")}else if(/\d/.test(r)||r=="-"&&e.eat(/\d/)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return c("number","number")}else if(t.reAllowed&&(r=="~"&&e.eat(/\//))){o(e,"/");e.eatWhile(/[gimsu]/);return c("regexp","string-2")}else if(r=="/"){if(e.eat("*")){return l(e,t,j)}else if(e.eat("/")){e.skipToEnd();return c("comment","comment")}else{e.eatWhile(f);return c("operator",null,e.current())}}else if(r=="#"){e.skipToEnd();return c("conditional","meta")}else if(r=="@"){e.eat(/:/);e.eatWhile(/[\w_]/);return c("metadata","meta")}else if(f.test(r)){e.eatWhile(f);return c("operator",null,e.current())}else{var n;if(/[A-Z]/.test(r)){e.eatWhile(/[\w_<>]/);n=e.current();return c("type","variable-3",n)}else{e.eatWhile(/[\w_]/);var n=e.current(),i=a.propertyIsEnumerable(n)&&a[n];return i&&t.kwAllowed?c(i.type,i.style,n):c("variable","variable",n)}}}function D(r){return function(e,t){if(!o(e,r))t.tokenize=s;return c("string","string")}}function j(e,t){var r=false,n;while(n=e.next()){if(n=="/"&&r){t.tokenize=s;break}r=n=="*"}return c("comment","comment")}var t={atom:true,number:true,variable:true,string:true,regexp:true};function d(e,t,r,n,i,a){this.indented=e;this.column=t;this.type=r;this.prev=i;this.info=a;if(n!=null)this.align=n}function q(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return true}function B(e,t,r,n,i){var a=e.cc;p.state=e;p.stream=i;p.marked=null,p.cc=a;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var u=a.length?a.pop():A;if(u(r,n)){while(a.length&&a[a.length-1].lex)a.pop()();if(p.marked)return p.marked;if(r=="variable"&&q(e,n))return"variable-2";if(r=="variable"&&F(e,n))return"variable-3";return t}}}function F(e,t){if(/[a-z]/.test(t.charAt(0)))return false;var r=e.importedtypes.length;for(var n=0;n<r;n++)if(e.importedtypes[n]==t)return true}function m(e){var t=p.state;for(var r=t.importedtypes;r;r=r.next)if(r.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}var p={state:null,column:null,marked:null,cc:null};function v(){for(var e=arguments.length-1;e>=0;e--)p.cc.push(arguments[e])}function h(){v.apply(null,arguments);return true}function y(e){var t=p.state;if(t.context){p.marked="def";for(var r=t.localVars;r;r=r.next)if(r.name==e)return;t.localVars={name:e,next:t.localVars}}}var U={name:"this",next:null};function x(){if(!p.state.context)p.state.localVars=U;p.state.context={prev:p.state.context,vars:p.state.localVars}}function b(){p.state.localVars=p.state.context.vars;p.state.context=p.state.context.prev}function k(t,r){var e=function(){var e=p.state;e.lexical=new d(e.indented,p.stream.column(),t,null,e.lexical,r)};e.lex=true;return e}function w(){var e=p.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}w.lex=true;function g(t){function r(e){if(e==t)return h();else if(t==";")return v();else return h(r)}return r}function A(e){if(e=="@")return h(z);if(e=="var")return h(k("vardef"),Z,g(";"),w);if(e=="keyword a")return h(k("form"),V,A,w);if(e=="keyword b")return h(k("form"),A,w);if(e=="{")return h(k("}"),x,T,w,b);if(e==";")return h();if(e=="attribute")return h(W);if(e=="function")return h(O);if(e=="for")return h(k("form"),g("("),k(")"),L,g(")"),w,A,w);if(e=="variable")return h(k("stat"),H);if(e=="switch")return h(k("form"),V,k("}","switch"),g("{"),T,w,w);if(e=="case")return h(V,g(":"));if(e=="default")return h(g(":"));if(e=="catch")return h(k("form"),x,g("("),_,g(")"),A,w,b);if(e=="import")return h(M,g(";"));if(e=="typedef")return h(G);return v(k("stat"),V,g(";"),w)}function V(e){if(t.hasOwnProperty(e))return h(E);if(e=="function")return h(O);if(e=="keyword c")return h(S);if(e=="(")return h(k(")"),S,g(")"),w,E);if(e=="operator")return h(V);if(e=="[")return h(k("]"),C(V,"]"),w,E);if(e=="{")return h(k("}"),C(K,"}"),w,E);return h()}function S(e){if(e.match(/[;\}\)\],]/))return v();return v(V)}function E(e,t){if(e=="operator"&&/\+\+|--/.test(t))return h(E);if(e=="operator"||e==":")return h(V);if(e==";")return;if(e=="(")return h(k(")"),C(V,")"),w,E);if(e==".")return h(J,E);if(e=="[")return h(k("]"),V,g("]"),w,E)}function W(e){if(e=="attribute")return h(W);if(e=="function")return h(O);if(e=="var")return h(Z)}function z(e){if(e==":")return h(z);if(e=="variable")return h(z);if(e=="(")return h(k(")"),C($,")"),w,A)}function $(e){if(e=="variable")return h()}function M(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0))){m(t);return h()}else if(e=="variable"||e=="property"||e=="."||t=="*")return h(M)}function G(e,t){if(e=="variable"&&/[A-Z]/.test(t.charAt(0))){m(t);return h()}else if(e=="type"&&/[A-Z]/.test(t.charAt(0))){return h()}}function H(e){if(e==":")return h(w,A);return v(E,g(";"),w)}function J(e){if(e=="variable"){p.marked="property";return h()}}function K(e){if(e=="variable")p.marked="property";if(t.hasOwnProperty(e))return h(g(":"),V)}function C(t,r){function n(e){if(e==",")return h(t,n);if(e==r)return h();return h(g(r))}return function(e){if(e==r)return h();else return v(t,n)}}function T(e){if(e=="}")return h();return v(A,T)}function Z(e,t){if(e=="variable"){y(t);return h(P,I)}return h()}function I(e,t){if(t=="=")return h(V,I);if(e==",")return h(Z)}function L(e,t){if(e=="variable"){y(t)}return h(k(")"),x,N,V,w,A,b)}function N(e,t){if(t=="in")return h()}function O(e,t){if(e=="variable"){y(t);return h(O)}if(t=="new")return h(O);if(e=="(")return h(k(")"),x,C(_,")"),w,P,A,b)}function P(e){if(e==":")return h(Q)}function Q(e){if(e=="type")return h();if(e=="variable")return h();if(e=="{")return h(k("}"),C(R,"}"),w)}function R(e){if(e=="variable")return h(P)}function _(e,t){if(e=="variable"){y(t);return h(P)}}return{startState:function(e){var t=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];return{tokenize:s,reAllowed:true,kwAllowed:true,cc:[],lexical:new d((e||0)-u,0,"block",false),localVars:r.localVars,importedtypes:t,context:r.localVars&&{vars:r.localVars},indented:0}},token:function(e,t){if(e.sol()){if(!t.lexical.hasOwnProperty("align"))t.lexical.align=false;t.indented=e.indentation()}if(e.eatSpace())return null;var r=t.tokenize(e,t);if(n=="comment")return r;t.reAllowed=!!(n=="operator"||n=="keyword c"||n.match(/^[\[{}\(,;:]$/));t.kwAllowed=n!=".";return B(t,r,n,i,e)},indent:function(e,t){if(e.tokenize!=s)return 0;var r=t&&t.charAt(0),n=e.lexical;if(n.type=="stat"&&r=="}")n=n.prev;var i=n.type,a=r==i;if(i=="vardef")return n.indented+4;else if(i=="form"&&r=="{")return n.indented;else if(i=="stat"||i=="form")return n.indented+u;else if(n.info=="switch"&&!a)return n.indented+(/^(?:case|default)\b/.test(t)?u:2*u);else if(n.align)return n.column+(a?0:1);else return n.indented+(a?0:u)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});e.defineMIME("text/x-haxe","haxe");e.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(e,t){var r=e.peek();var n=e.sol();if(r=="#"){e.skipToEnd();return"comment"}if(n&&r=="-"){var i="variable-2";e.eat(/-/);if(e.peek()=="-"){e.eat(/-/);i="keyword a"}if(e.peek()=="D"){e.eat(/[D]/);i="keyword c";t.define=true}e.eatWhile(/[A-Z]/i);return i}var r=e.peek();if(t.inString==false&&r=="'"){t.inString=true;r=e.next()}if(t.inString==true){if(e.skipTo("'")){}else{e.skipToEnd()}if(e.peek()=="'"){e.next();t.inString=false}return"string"}e.next();return null},lineComment:"#"}});e.defineMIME("text/x-hxml","hxml")});