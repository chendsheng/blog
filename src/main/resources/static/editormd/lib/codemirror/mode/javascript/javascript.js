(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(Te){"use strict";Te.defineMode("javascript",function(e,o){var l=e.indentUnit;var N=o.statementIndent;var a=o.jsonld;var u=o.json||a;var H=o.typescript;var s=o.wordCharacters||/[\w$\xa1-\uffff]/;var U=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c");var i=e("operator"),a={type:"atom",style:"atom"};var f={if:e("if"),while:r,with:r,else:t,do:t,try:t,finally:t,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n};if(H){var u={type:"variable",style:"variable-3"};var o={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:u,number:u,bool:u,any:u};for(var l in o){f[l]=o[l]}}return f}();var f=/[+\-*&%=<>!?|~^]/;var B=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function D(e){var r=false,t,n=false;while((t=e.next())!=null){if(!r){if(t=="/"&&!n)return;if(t=="[")n=true;else if(n&&t=="]")n=false}r=!r&&t=="\\"}}var n,i;function c(e,r,t){n=e;i=t;return r}function p(e,r){var t=e.next();if(t=='"'||t=="'"){r.tokenize=F(t);return r.tokenize(e,r)}else if(t=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)){return c("number","number")}else if(t=="."&&e.match("..")){return c("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(t)){return c(t)}else if(t=="="&&e.eat(">")){return c("=>","operator")}else if(t=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return c("number","number")}else if(/\d/.test(t)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return c("number","number")}else if(t=="/"){if(e.eat("*")){r.tokenize=d;return d(e,r)}else if(e.eat("/")){e.skipToEnd();return c("comment","comment")}else if(r.lastType=="operator"||r.lastType=="keyword c"||r.lastType=="sof"||/^[\[{}\(,;:]$/.test(r.lastType)){D(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return c("regexp","string-2")}else{e.eatWhile(f);return c("operator","operator",e.current())}}else if(t=="`"){r.tokenize=v;return v(e,r)}else if(t=="#"){e.skipToEnd();return c("error","error")}else if(f.test(t)){e.eatWhile(f);return c("operator","operator",e.current())}else if(s.test(t)){e.eatWhile(s);var n=e.current(),i=U.propertyIsEnumerable(n)&&U[n];return i&&r.lastType!="."?c(i.type,i.style,n):c("variable","variable",n)}}function F(i){return function(e,r){var t=false,n;if(a&&e.peek()=="@"&&e.match(B)){r.tokenize=p;return c("jsonld-keyword","meta")}while((n=e.next())!=null){if(n==i&&!t)break;t=!t&&n=="\\"}if(!t)r.tokenize=p;return c("string","string")}}function d(e,r){var t=false,n;while(n=e.next()){if(n=="/"&&t){r.tokenize=p;break}t=n=="*"}return c("comment","comment")}function v(e,r){var t=false,n;while((n=e.next())!=null){if(!t&&(n=="`"||n=="$"&&e.eat("{"))){r.tokenize=p;break}t=!t&&n=="\\"}return c("quasi","string-2",e.current())}var G="([{}])";function m(e,r){if(r.fatArrowAt)r.fatArrowAt=null;var t=e.string.indexOf("=>",e.start);if(t<0)return;var n=0,i=false;for(var a=t-1;a>=0;--a){var f=e.string.charAt(a);var u=G.indexOf(f);if(u>=0&&u<3){if(!n){++a;break}if(--n==0)break}else if(u>=3&&u<6){++n}else if(s.test(f)){i=true}else if(/["'\/]/.test(f)){return}else if(i&&!n){++a;break}}if(i&&!n)r.fatArrowAt=a}var J={atom:true,number:true,variable:true,string:true,regexp:true,this:true,"jsonld-keyword":true};function K(e,r,t,n,i,a){this.indented=e;this.column=r;this.type=t;this.prev=i;this.info=a;if(n!=null)this.align=n}function L(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return true;for(var n=e.context;n;n=n.prev){for(var t=n.vars;t;t=t.next)if(t.name==r)return true}}function Q(e,r,t,n,i){var a=e.cc;y.state=e;y.stream=i;y.marked=null,y.cc=a;y.style=r;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var f=a.length?a.pop():u?V:M;if(f(t,n)){while(a.length&&a[a.length-1].lex)a.pop()();if(y.marked)return y.marked;if(t=="variable"&&L(e,n))return"variable-2";return r}}}var y={state:null,column:null,marked:null,cc:null};function b(){for(var e=arguments.length-1;e>=0;e--)y.cc.push(arguments[e])}function k(){b.apply(null,arguments);return true}function t(t){function e(e){for(var r=e;r;r=r.next)if(r.name==t)return true;return false}var r=y.state;if(r.context){y.marked="def";if(e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;if(o.globalVars)r.globalVars={name:t,next:r.globalVars}}}var r={name:"this",next:{name:"arguments"}};function h(){y.state.context={prev:y.state.context,vars:y.state.localVars};y.state.localVars=r}function x(){y.state.localVars=y.state.context.vars;y.state.context=y.state.context.prev}function w(n,i){var e=function(){var e=y.state,r=e.indented;if(e.lexical.type=="stat")r=e.lexical.indented;else for(var t=e.lexical;t&&t.type==")"&&t.align;t=t.prev)r=t.indented;e.lexical=new K(r,y.stream.column(),n,null,e.lexical,i)};e.lex=true;return e}function g(){var e=y.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}g.lex=true;function j(r){function t(e){if(e==r)return k();else if(r==";")return b();else return k(t)}return t}function M(e,r){if(e=="var")return k(w("vardef",r.length),oe,j(";"),g);if(e=="keyword a")return k(w("form"),V,M,g);if(e=="keyword b")return k(w("form"),M,g);if(e=="{")return k(w("}"),ae,g);if(e==";")return k();if(e=="if"){if(y.state.lexical.info=="else"&&y.state.cc[y.state.cc.length-1]==g)y.state.cc.pop()();return k(w("form"),V,M,g,pe)}if(e=="function")return k(P);if(e=="for")return k(w("form"),de,M,g);if(e=="variable")return k(w("stat"),re);if(e=="switch")return k(w("form"),V,w("}","switch"),j("{"),ae,g,g);if(e=="case")return k(V,j(":"));if(e=="default")return k(j(":"));if(e=="catch")return k(w("form"),h,j("("),be,j(")"),M,g,x);if(e=="module")return k(w("form"),h,we,x,g);if(e=="class")return k(w("form"),ke,g);if(e=="export")return k(w("form"),ge,g);if(e=="import")return k(w("form"),je,g);return b(w("stat"),V,j(";"),g)}function V(e){return R(e,false)}function E(e){return R(e,true)}function R(e,r){if(y.state.fatArrowAt==y.stream.start){var t=r?ee:_;if(e=="(")return k(h,w(")"),C(q,")"),g,j("=>"),t,x);else if(e=="variable")return b(h,q,j("=>"),t,x)}var n=r?Y:z;if(J.hasOwnProperty(e))return k(n);if(e=="function")return k(P,n);if(e=="keyword c")return k(r?X:I);if(e=="(")return k(w(")"),I,W,j(")"),g,n);if(e=="operator"||e=="spread")return k(r?E:V);if(e=="[")return k(w("]"),Ee,g,n);if(e=="{")return $(ne,"}",null,n);if(e=="quasi"){return b(T,n)}return k()}function I(e){if(e.match(/[;\}\)\],]/))return b();return b(V)}function X(e){if(e.match(/[;\}\)\],]/))return b();return b(E)}function z(e,r){if(e==",")return k(V);return Y(e,r,false)}function Y(e,r,t){var n=t==false?z:Y;var i=t==false?V:E;if(e=="=>")return k(h,t?ee:_,x);if(e=="operator"){if(/\+\+|--/.test(r))return k(n);if(r=="?")return k(V,j(":"),i);return k(i)}if(e=="quasi"){return b(T,n)}if(e==";")return;if(e=="(")return $(E,")","call",n);if(e==".")return k(te,n);if(e=="[")return k(w("]"),I,j("]"),g,n)}function T(e,r){if(e!="quasi")return b();if(r.slice(r.length-2)!="${")return k(T);return k(V,Z)}function Z(e){if(e=="}"){y.marked="string-2";y.state.tokenize=v;return k(T)}}function _(e){m(y.stream,y.state);return b(e=="{"?M:V)}function ee(e){m(y.stream,y.state);return b(e=="{"?M:E)}function re(e){if(e==":")return k(g,M);return b(z,j(";"),g)}function te(e){if(e=="variable"){y.marked="property";return k()}}function ne(e,r){if(e=="variable"||y.style=="keyword"){y.marked="property";if(r=="get"||r=="set")return k(ie);return k(A)}else if(e=="number"||e=="string"){y.marked=a?"property":y.style+" property";return k(A)}else if(e=="jsonld-keyword"){return k(A)}else if(e=="["){return k(V,j("]"),A)}}function ie(e){if(e!="variable")return b(A);y.marked="property";return k(P)}function A(e){if(e==":")return k(E);if(e=="(")return b(P)}function C(t,n){function i(e){if(e==","){var r=y.state.lexical;if(r.info=="call")r.pos=(r.pos||0)+1;return k(t,i)}if(e==n)return k();return k(j(n))}return function(e){if(e==n)return k();return b(t,i)}}function $(e,r,t){for(var n=3;n<arguments.length;n++)y.cc.push(arguments[n]);return k(w(r,t),C(e,r),g)}function ae(e){if(e=="}")return k();return b(M,ae)}function fe(e){if(H&&e==":")return k(ue)}function ue(e){if(e=="variable"){y.marked="variable-3";return k()}}function oe(){return b(q,fe,se,ce)}function q(e,r){if(e=="variable"){t(r);return k()}if(e=="[")return $(q,"]");if(e=="{")return $(le,"}")}function le(e,r){if(e=="variable"&&!y.stream.match(/^\s*:/,false)){t(r);return k(se)}if(e=="variable")y.marked="property";return k(j(":"),q,se)}function se(e,r){if(r=="=")return k(E)}function ce(e){if(e==",")return k(oe)}function pe(e,r){if(e=="keyword b"&&r=="else")return k(w("form","else"),M,g)}function de(e){if(e=="(")return k(w(")"),ve,j(")"),g)}function ve(e){if(e=="var")return k(oe,j(";"),O);if(e==";")return k(O);if(e=="variable")return k(me);return b(V,j(";"),O)}function me(e,r){if(r=="in"||r=="of"){y.marked="keyword";return k(V)}return k(z,O)}function O(e,r){if(e==";")return k(ye);if(r=="in"||r=="of"){y.marked="keyword";return k(V)}return b(V,j(";"),ye)}function ye(e){if(e!=")")k(V)}function P(e,r){if(r=="*"){y.marked="keyword";return k(P)}if(e=="variable"){t(r);return k(P)}if(e=="(")return k(h,w(")"),C(be,")"),g,M,x)}function be(e){if(e=="spread")return k(be);return b(q,fe)}function ke(e,r){if(e=="variable"){t(r);return k(he)}}function he(e,r){if(r=="extends")return k(V,he);if(e=="{")return k(w("}"),S,g)}function S(e,r){if(e=="variable"||y.style=="keyword"){y.marked="property";if(r=="get"||r=="set")return k(xe,P,S);return k(P,S)}if(r=="*"){y.marked="keyword";return k(S)}if(e==";")return k(S);if(e=="}")return k()}function xe(e){if(e!="variable")return b();y.marked="property";return k()}function we(e,r){if(e=="string")return k(M);if(e=="variable"){t(r);return k(Ve)}}function ge(e,r){if(r=="*"){y.marked="keyword";return k(Ve,j(";"))}if(r=="default"){y.marked="keyword";return k(V,j(";"))}return b(M)}function je(e){if(e=="string")return k();return b(Me,Ve)}function Me(e,r){if(e=="{")return $(Me,"}");if(e=="variable")t(r);return k()}function Ve(e,r){if(r=="from"){y.marked="keyword";return k(V)}}function Ee(e){if(e=="]")return k();return b(E,Ie)}function Ie(e){if(e=="for")return b(W,j("]"));if(e==",")return k(C(X,"]"));return b(C(E,"]"))}function W(e){if(e=="for")return k(de,W);if(e=="if")return k(V,W)}function ze(e,r){return e.lastType=="operator"||e.lastType==","||f.test(r.charAt(0))||/[,.]/.test(r.charAt(0))}return{startState:function(e){var r={tokenize:p,lastType:"sof",cc:[],lexical:new K((e||0)-l,0,"block",false),localVars:o.localVars,context:o.localVars&&{vars:o.localVars},indented:0};if(o.globalVars&&typeof o.globalVars=="object")r.globalVars=o.globalVars;return r},token:function(e,r){if(e.sol()){if(!r.lexical.hasOwnProperty("align"))r.lexical.align=false;r.indented=e.indentation();m(e,r)}if(r.tokenize!=d&&e.eatSpace())return null;var t=r.tokenize(e,r);if(n=="comment")return t;r.lastType=n=="operator"&&(i=="++"||i=="--")?"incdec":n;return Q(r,t,n,i,e)},indent:function(e,r){if(e.tokenize==d)return Te.Pass;if(e.tokenize!=p)return 0;var t=r&&r.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(r))for(var i=e.cc.length-1;i>=0;--i){var a=e.cc[i];if(a==g)n=n.prev;else if(a!=pe)break}if(n.type=="stat"&&t=="}")n=n.prev;if(N&&n.type==")"&&n.prev.type=="stat")n=n.prev;var f=n.type,u=t==f;if(f=="vardef")return n.indented+(e.lastType=="operator"||e.lastType==","?n.info+1:0);else if(f=="form"&&t=="{")return n.indented;else if(f=="form")return n.indented+l;else if(f=="stat")return n.indented+(ze(e,r)?N||l:0);else if(n.info=="switch"&&!u&&o.doubleIndentSwitch!=false)return n.indented+(/^(?:case|default)\b/.test(r)?l:2*l);else if(n.align)return n.column+(u?0:1);else return n.indented+(u?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",lineComment:u?null:"//",fold:"brace",helperType:u?"json":"javascript",jsonldMode:a,jsonMode:u}});Te.registerHelper("wordChars","javascript",/[\w$]/);Te.defineMIME("text/javascript","javascript");Te.defineMIME("text/ecmascript","javascript");Te.defineMIME("application/javascript","javascript");Te.defineMIME("application/x-javascript","javascript");Te.defineMIME("application/ecmascript","javascript");Te.defineMIME("application/json",{name:"javascript",json:true});Te.defineMIME("application/x-json",{name:"javascript",json:true});Te.defineMIME("application/ld+json",{name:"javascript",jsonld:true});Te.defineMIME("text/typescript",{name:"javascript",typescript:true});Te.defineMIME("application/typescript",{name:"javascript",typescript:true})});