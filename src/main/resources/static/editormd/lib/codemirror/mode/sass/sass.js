(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(e){"use strict";e.defineMode("sass",function(s){function e(e){return new RegExp("^"+e.join("|"))}var r=["true","false","null","auto"];var n=new RegExp("^"+r.join("|"));var t=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"];var i=e(t);var f=/^::?[a-zA-Z_][\w\-]*/;function o(e,r){var t=e.peek();if(t===")"){e.next();r.tokenizer=m;return"operator"}else if(t==="("){e.next();e.eatSpace();return"operator"}else if(t==="'"||t==='"'){r.tokenizer=u(e.next());return"string"}else{r.tokenizer=u(")",false);return"string"}}function a(t,n){return function(e,r){if(e.sol()&&e.indentation()<=t){r.tokenizer=m;return m(e,r)}if(n&&e.skipTo("*/")){e.next();e.next();r.tokenizer=m}else{e.skipToEnd()}return"comment"}}function u(o,a){if(a==null){a=true}function u(e,r){var t=e.next();var n=e.peek();var i=e.string.charAt(e.pos-2);var f=t!=="\\"&&n===o||t===o&&i!=="\\";if(f){if(t!==o&&a){e.next()}r.tokenizer=m;return"string"}else if(t==="#"&&n==="{"){r.tokenizer=c(u);e.next();return"operator"}else{return"string"}}return u}function c(t){return function(e,r){if(e.peek()==="}"){e.next();r.tokenizer=t;return"operator"}else{return m(e,r)}}}function l(e){if(e.indentCount==0){e.indentCount++;var r=e.scopes[0].offset;var t=r+s.indentUnit;e.scopes.unshift({offset:t})}}function p(e){if(e.scopes.length==1)return;e.scopes.shift()}function m(e,r){var t=e.peek();if(e.match("/*")){r.tokenizer=a(e.indentation(),true);return r.tokenizer(e,r)}if(e.match("//")){r.tokenizer=a(e.indentation(),false);return r.tokenizer(e,r)}if(e.match("#{")){r.tokenizer=c(m);return"operator"}if(t==='"'||t==="'"){e.next();r.tokenizer=u(t);return"string"}if(!r.cursorHalf){if(t==="."){e.next();if(e.match(/^[\w-]+/)){l(r);return"atom"}else if(e.peek()==="#"){l(r);return"atom"}}if(t==="#"){e.next();if(e.match(/^[\w-]+/)){l(r);return"atom"}if(e.peek()==="#"){l(r);return"atom"}}if(t==="$"){e.next();e.eatWhile(/[\w-]/);return"variable-2"}if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(n))return"keyword";if(e.match(/^url/)&&e.peek()==="("){r.tokenizer=o;return"atom"}if(t==="="){if(e.match(/^=[\w-]+/)){l(r);return"meta"}}if(t==="+"){if(e.match(/^\+[\w-]+/)){return"variable-3"}}if(t==="@"){if(e.match(/@extend/)){if(!e.match(/\s*[\w]/))p(r)}}if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){l(r);return"meta"}if(t==="@"){e.next();e.eatWhile(/[\w-]/);return"meta"}if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,false)){return"propery"}else if(e.match(/ *:/,false)){l(r);r.cursorHalf=1;return"atom"}else if(e.match(/ *,/,false)){return"atom"}else{l(r);return"atom"}}if(t===":"){if(e.match(f)){return"keyword"}e.next();r.cursorHalf=1;return"operator"}}else{if(t==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(!e.peek()){r.cursorHalf=0}return"number"}}if(e.match(/^-?[0-9\.]+/)){if(!e.peek()){r.cursorHalf=0}return"number"}if(e.match(/^(px|em|in)\b/)){if(!e.peek()){r.cursorHalf=0}return"unit"}if(e.match(n)){if(!e.peek()){r.cursorHalf=0}return"keyword"}if(e.match(/^url/)&&e.peek()==="("){r.tokenizer=o;if(!e.peek()){r.cursorHalf=0}return"atom"}if(t==="$"){e.next();e.eatWhile(/[\w-]/);if(!e.peek()){r.cursorHalf=0}return"variable-3"}if(t==="!"){e.next();if(!e.peek()){r.cursorHalf=0}return e.match(/^[\w]+/)?"keyword":"operator"}if(e.match(i)){if(!e.peek()){r.cursorHalf=0}return"operator"}if(e.eatWhile(/[\w-]/)){if(!e.peek()){r.cursorHalf=0}return"attribute"}if(!e.peek()){r.cursorHalf=0;return null}}if(e.match(i))return"operator";e.next();return null}function k(e,r){if(e.sol())r.indentCount=0;var t=r.tokenizer(e,r);var n=e.current();if(n==="@return"||n==="}"){p(r)}if(t!==null){var i=e.pos-n.length;var f=i+s.indentUnit*r.indentCount;var o=[];for(var a=0;a<r.scopes.length;a++){var u=r.scopes[a];if(u.offset<=f)o.push(u)}r.scopes=o}return t}return{startState:function(){return{tokenizer:m,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,r){var t=k(e,r);r.lastToken={style:t,content:e.current()};return t},indent:function(e){return e.scopes[0].offset}}});e.defineMIME("text/x-sass","sass")});