(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(u){"use strict";var m=/^(\s*)(>[> ]*|[*+-]\s|(\d+)\.)(\s*)/,p=/^(\s*)(>[> ]*|[*+-]|(\d+)\.)(\s*)$/,v=/[*+-]\s/;u.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput"))return u.Pass;var n=e.listSelections(),i=[];for(var t=0;t<n.length;t++){var r=n[t].head,o;var a=e.getStateAfter(r.line);var l=a.list!==false;var s=a.quote!==false;if(!n[t].empty()||!l&&!s||!(o=e.getLine(r.line).match(m))){e.execCommand("newlineAndIndent");return}if(e.getLine(r.line).match(p)){e.replaceRange("",{line:r.line,ch:0},{line:r.line,ch:r.ch+1});i[t]="\n"}else{var c=o[1],d=o[4];var f=v.test(o[2])||o[2].indexOf(">")>=0?o[2]:parseInt(o[3],10)+1+".";i[t]="\n"+c+f+d}}e.replaceSelections(i)}});